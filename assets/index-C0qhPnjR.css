:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}*{box-sizing:border-box;margin:0;padding:0}.app{min-height:100vh;background:linear-gradient(135deg,#1a0033,#2d0052,#1a0033);color:#fff;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;padding:20px}.app-header{text-align:center;margin-bottom:30px;padding:20px;background:#8b5cf633;border-radius:15px;border:2px solid #8B5CF6}.app-title{font-size:3rem;margin-bottom:10px;text-shadow:0 0 20px #8B5CF6,0 0 40px #A78BFA;animation:glow 2s ease-in-out infinite}@keyframes glow{0%,to{text-shadow:0 0 20px #8B5CF6,0 0 40px #A78BFA}50%{text-shadow:0 0 30px #8B5CF6,0 0 60px #A78BFA,0 0 80px #C4B5FD}}.app-subtitle{font-size:1.2rem;color:#c4b5fd;margin-bottom:20px}.stats{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;align-items:center}.stat{font-size:1.5rem;padding:10px 20px;background:#ffffff1a;border-radius:10px;border:2px solid #A78BFA}.theme-change-btn,.sound-toggle-btn{padding:10px 20px;font-size:1rem;border:none;border-radius:10px;color:#fff;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 10px #0000004d}.theme-change-btn:hover,.sound-toggle-btn:hover{transform:translateY(-2px);box-shadow:0 6px 15px #0006}.theme-change-btn:active,.sound-toggle-btn:active{transform:translateY(0)}.game-container{display:flex;gap:20px;flex-wrap:wrap;justify-content:center}.left-panel,.right-panel{background:#ffffff1a;padding:20px;border-radius:15px;border:2px solid #8B5CF6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.left-panel{flex:1;min-width:300px;max-width:500px}.right-panel{flex:1;min-width:300px;max-width:400px}.left-panel h2,.right-panel h2{margin-bottom:20px;color:#c4b5fd;text-align:center}.controls{display:flex;gap:10px;margin-top:20px;justify-content:center;flex-wrap:wrap}.btn{padding:15px 25px;font-size:1.1rem;border:none;border-radius:10px;cursor:pointer;transition:all .3s ease;font-weight:700;text-transform:uppercase}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-run{background:linear-gradient(135deg,#10b981,#059669);color:#fff}.btn-run:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 20px #10b98180}.btn-reset{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff}.btn-reset:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 20px #ef444480}.btn-clear{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;width:100%;margin-top:10px}.btn-clear:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 20px #f59e0b80}.command-list{margin:20px 0;min-height:200px;background:#0000004d;padding:15px;border-radius:10px;border:2px dashed #8B5CF6}.empty-message{text-align:center;color:#a78bfa;font-style:italic;padding:50px 0}.command-item{display:flex;justify-content:space-between;align-items:center;padding:12px;margin-bottom:10px;background:#8b5cf64d;border-radius:8px;border:1px solid #8B5CF6;transition:all .3s ease;gap:10px}.command-item.executing{background:linear-gradient(135deg,#10b981,#059669);border:2px solid #10B981;transform:scale(1.05);box-shadow:0 0 20px #10b98199;animation:executing-pulse .6s ease-in-out}@keyframes executing-pulse{0%,to{box-shadow:0 0 20px #10b98199}50%{box-shadow:0 0 30px #10b981e6}}.command-item span{font-size:1.1rem}.command-number{background:#0000004d;padding:4px 10px;border-radius:5px;font-weight:700;min-width:30px;text-align:center}.btn-remove{background:transparent;border:none;font-size:1.2rem;cursor:pointer;padding:5px;transition:transform .2s}.btn-remove:hover:not(:disabled){transform:scale(1.2)}.btn-remove:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.app-title{font-size:2rem}.stats{gap:10px}.stat{font-size:1.2rem;padding:8px 15px}.game-container{flex-direction:column}.left-panel,.right-panel{max-width:100%}.btn{padding:12px 20px;font-size:1rem}}.code-blocks{display:flex;flex-direction:column;gap:20px;margin-bottom:20px;max-height:500px;overflow-y:auto;padding-right:10px}.block-category{background:#ffffff0d;border-radius:12px;padding:15px;border:1px solid rgba(139,92,246,.3)}.block-category h4{margin:0 0 10px;color:#a78bfa;font-size:.9rem;text-transform:uppercase;letter-spacing:1px}.blocks-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px}.code-block{padding:12px 10px;font-size:.85rem;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;font-weight:700;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.3);box-shadow:0 4px 6px #0000004d;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.code-block:hover:not(:disabled){transform:translateY(-3px) scale(1.05);box-shadow:0 6px 12px #0006}.code-block:active:not(:disabled){transform:translateY(-1px) scale(1.02)}.code-block:disabled{opacity:.5;cursor:not-allowed}.code-blocks::-webkit-scrollbar{width:8px}.code-blocks::-webkit-scrollbar-track{background:#ffffff0d;border-radius:4px}.code-blocks::-webkit-scrollbar-thumb{background:#8b5cf680;border-radius:4px}.code-blocks::-webkit-scrollbar-thumb:hover{background:#8b5cf6b3}@media (max-width: 768px){.blocks-grid{grid-template-columns:repeat(2,1fr)}.code-block{padding:10px 8px;font-size:.75rem}}.game-world{display:flex;flex-direction:column;align-items:center}.grid{display:grid;grid-template-columns:repeat(5,70px);grid-template-rows:repeat(5,70px);gap:5px;background:#0000004d;padding:10px;border-radius:10px;margin-bottom:20px}.grid-cell{width:70px;height:70px;background:linear-gradient(135deg,#2d0052,#1a0033);border:2px solid #8B5CF6;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:2rem;transition:all .3s ease;position:relative}.grid-cell.character{background:linear-gradient(135deg,#8b5cf6,#a78bfa);box-shadow:0 0 20px #8b5cf6;animation:pulse 1s ease-in-out infinite}.grid-cell.object-demon{background:linear-gradient(135deg,#dc2626,#7f1d1d)}.grid-cell.object-treasure{background:linear-gradient(135deg,#fbbf24,#f59e0b)}.grid-cell.object-door{background:linear-gradient(135deg,#34d399,#059669)}.grid-cell.object-obstacle{background:linear-gradient(135deg,#6b7280,#374151)}.grid-cell.object-bridge{background:linear-gradient(135deg,#60a5fa,#3b82f6)}@keyframes pulse{0%,to{box-shadow:0 0 20px #8b5cf6}50%{box-shadow:0 0 30px #8b5cf6,0 0 40px #a78bfa}}.character-sprite,.demon-sprite,.empty-cell{font-size:2.5rem;animation:bounce .5s ease-in-out}@keyframes bounce{0%{transform:scale(0)}50%{transform:scale(1.1)}to{transform:scale(1)}}.mission{background:#8b5cf633;padding:15px;border-radius:10px;border:2px solid #8B5CF6;width:100%;max-width:400px}.mission h3{margin-bottom:10px;color:#c4b5fd}.mission p{margin:5px 0;color:#e9d5ff}.object-counts{display:flex;gap:12px;margin:10px 0;flex-wrap:wrap}.object-counts span{background:#0000004d;padding:5px 10px;border-radius:5px;font-size:1rem;font-weight:700;color:#fcd34d}.level-hint{font-size:.9rem;font-weight:700;color:#a78bfa}.object-sprite{font-size:2.5rem;animation:bounce .5s ease-in-out}.grid-cell.collecting{animation:collect-flash .5s ease-in-out}@keyframes collect-flash{0%{transform:scale(1);box-shadow:0 0 20px #fcd34d}50%{transform:scale(1.2);box-shadow:0 0 40px #fcd34d,0 0 60px #fbbf24}to{transform:scale(1);box-shadow:0 0 20px #fcd34d}}.collection-effect{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.sparkle{position:absolute;font-size:1.5rem;animation:sparkle-burst .5s ease-out forwards}.sparkle:nth-child(1){top:50%;left:50%;animation-delay:0s}.sparkle:nth-child(2){top:50%;left:50%;animation-delay:.1s}.sparkle:nth-child(3){top:50%;left:50%;animation-delay:.2s}@keyframes sparkle-burst{0%{transform:translate(-50%,-50%) scale(0) rotate(0);opacity:1}to{transform:translate(-50%,-150%) scale(1.5) rotate(360deg);opacity:0}}@media (max-width: 768px){.grid{grid-template-columns:repeat(5,55px);grid-template-rows:repeat(5,55px);gap:3px}.grid-cell{width:55px;height:55px}.character-sprite,.demon-sprite,.empty-cell{font-size:2rem}}.character{position:absolute;font-size:3rem;transition:all .5s ease;z-index:10;animation:float 2s ease-in-out infinite}.level-system{margin-top:30px;text-align:center}.level-info{background:#8b5cf633;padding:20px;border-radius:15px;border:2px solid #8B5CF6;max-width:600px;margin:0 auto}.level-info h3{color:#c4b5fd;margin-bottom:15px;font-size:1.5rem}.progress-bar{width:100%;height:30px;background:#0000004d;border-radius:15px;overflow:hidden;border:2px solid #8B5CF6;margin-bottom:10px}.progress-fill{height:100%;background:linear-gradient(90deg,#10b981,#059669,#10b981);transition:width .5s ease;border-radius:15px;box-shadow:0 0 10px #10b981}.level-info p{color:#e9d5ff;font-size:1.1rem}.theme-selector-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#0a0a1a,#1a1a2e,#0a0a1a);z-index:1000;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch}.theme-selector-container{max-width:1200px;width:100%;padding:40px 20px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;justify-content:flex-start}.selector-title{font-size:4rem;text-align:center;margin-bottom:10px;background:linear-gradient(135deg,#8b5cf6,#ec4899,#f59e0b);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:0 0 40px rgba(139,92,246,.5);animation:glow-title 2s ease-in-out infinite}@keyframes glow-title{0%,to{filter:drop-shadow(0 0 20px rgba(139,92,246,.6))}50%{filter:drop-shadow(0 0 40px rgba(139,92,246,.9))}}.selector-subtitle{font-size:1.5rem;text-align:center;color:#a78bfa;margin-bottom:40px;font-weight:300}.themes-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin-top:30px}.theme-card{padding:30px;border-radius:20px;border:3px solid;cursor:pointer;transition:all .4s ease;display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;overflow:hidden}.theme-card:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#ffffff0d;opacity:0;transition:opacity .3s ease}.theme-card:hover:before{opacity:1}.theme-card:hover{transform:translateY(-10px) scale(1.03);box-shadow:0 20px 40px #0006}.theme-character{font-size:5rem;margin-bottom:20px;animation:bounce-character 2s ease-in-out infinite}@keyframes bounce-character{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.theme-name{font-size:1.8rem;margin-bottom:15px;color:#fff;font-weight:700}.theme-description{font-size:1rem;color:#d1d5db;margin-bottom:20px;line-height:1.5;min-height:48px}.theme-preview{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap;justify-content:center}.preview-icon{font-size:2rem;animation:float 3s ease-in-out infinite}.preview-icon:nth-child(1){animation-delay:0s}.preview-icon:nth-child(2){animation-delay:.2s}.preview-icon:nth-child(3){animation-delay:.4s}.preview-icon:nth-child(4){animation-delay:.6s}.preview-icon:nth-child(5){animation-delay:.8s}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.theme-select-btn{padding:15px 40px;font-size:1.2rem;border:none;border-radius:12px;color:#fff;font-weight:700;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px;box-shadow:0 5px 15px #0000004d}.theme-select-btn:hover{transform:translateY(-3px);box-shadow:0 8px 20px #0006}.theme-select-btn:active{transform:translateY(-1px)}@media (max-width: 768px){.theme-selector-overlay{padding:0}.theme-selector-container{padding:20px 15px 40px}.selector-title{font-size:2.5rem;margin-top:20px}.selector-subtitle{font-size:1.2rem;margin-bottom:30px}.themes-grid{grid-template-columns:1fr;gap:20px;margin-bottom:20px}.theme-card{padding:25px}.theme-card:hover{transform:none;box-shadow:none}.theme-card:active{transform:scale(.98);transition:transform .1s}.theme-character{font-size:4rem}.theme-name{font-size:1.5rem}.theme-description{font-size:.9rem}.preview-icon{font-size:1.5rem}.theme-select-btn{padding:12px 30px;font-size:1rem}}.level-up-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000e6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:9999;display:flex;align-items:center;justify-content:center;opacity:0;transform:scale(.8);transition:all .5s ease}.level-up-overlay.show{opacity:1;transform:scale(1)}.confetti-container{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;pointer-events:none}.confetti{position:absolute;width:10px;height:10px;top:-10px;animation:confetti-fall linear forwards}@keyframes confetti-fall{to{transform:translateY(100vh) rotate(720deg);opacity:0}}.celebration-content{text-align:center;animation:celebration-pop .6s cubic-bezier(.68,-.55,.265,1.55)}@keyframes celebration-pop{0%{transform:scale(0) rotate(-180deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}.level-badge{width:150px;height:150px;margin:0 auto 30px;border-radius:50%;border:5px solid;display:flex;align-items:center;justify-content:center;position:relative;background:radial-gradient(circle,rgba(139,92,246,.3) 0%,transparent 70%);animation:badge-pulse 2s ease-in-out infinite}@keyframes badge-pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.star-burst{position:absolute;font-size:3rem;animation:star-rotate 3s linear infinite}@keyframes star-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.level-number{font-size:4rem;font-weight:700;z-index:1}.celebration-title{font-size:3rem;margin-bottom:20px;animation:title-bounce .8s ease-in-out}@keyframes title-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.celebration-message{font-size:1.5rem;color:#fff;margin-bottom:30px}.achievement-stars{display:flex;gap:15px;justify-content:center;margin-bottom:30px}.achievement-star{font-size:2rem;display:inline-block;animation:star-pop .6s ease-out backwards}@keyframes star-pop{0%{transform:scale(0) rotate(0)}50%{transform:scale(1.5) rotate(180deg)}to{transform:scale(1) rotate(360deg)}}.celebration-character{font-size:6rem;animation:character-dance 1s ease-in-out infinite}@keyframes character-dance{0%,to{transform:translateY(0) rotate(-5deg)}25%{transform:translateY(-20px) rotate(5deg)}50%{transform:translateY(0) rotate(-5deg)}75%{transform:translateY(-10px) rotate(5deg)}}@media (max-width: 768px){.level-badge{width:120px;height:120px}.level-number{font-size:3rem}.celebration-title{font-size:2rem}.celebration-message{font-size:1.2rem}.celebration-character{font-size:4rem}}
